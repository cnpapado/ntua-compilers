$ should print 2

fun main(): nothing
   var x: int; $ allocate
   {
      x<-1; 
      if (x=1) then writeInteger(x+1); else writeInteger(22);
      writeChar('\n');
      return;
   }
